/*! alertify - v0.3.9 - 2013-04-20 */
(function(t,e){"use strict";var n,i=t.document;n=function(){var n,s,r,o,a,l,c,u,f,d,h,p,y={},b={},m=!1,v={ENTER:13,ESC:27,SPACE:32},g=[];return b={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',ok:'<a href="#" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</a>',cancel:'<a href="#" class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</a>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'},p=function(){var t,n,s=!1,r=i.createElement("fakeelement"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(t in o)if(r.style[t]!==e){n=o[t],s=!0;break}return{type:n,supported:s}},n=function(t){return i.getElementById(t)},y={labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok",transition:e,addListeners:function(t){var n,a,l,c,u,f=r!==e,p=s!==e,y=h!==e,b="",m=this;n=function(n){return n.preventDefault!==e&&n.preventDefault(),l(n),h!==e&&(b=h.value),"function"==typeof t&&(h!==e?t(!0,b):t(!0)),!1},a=function(n){return n.preventDefault!==e&&n.preventDefault(),l(n),"function"==typeof t&&t(!1),!1},l=function(){m.hide(),m.unbind(i.body,"keyup",c),m.unbind(o,"focus",u),y&&m.unbind(d,"submit",n),f&&m.unbind(r,"click",n),p&&m.unbind(s,"click",a)},c=function(t){var e=t.keyCode;e!==v.SPACE||y||n(t),e===v.ESC&&p&&a(t)},u=function(){y?h.focus():!p||m.buttonReverse?r.focus():s.focus()},this.bind(o,"focus",u),f&&this.bind(r,"click",n),p&&this.bind(s,"click",a),this.bind(i.body,"keyup",c),y&&this.bind(d,"submit",n),this.transition.supported||this.setFocus()},bind:function(t,e,n){"function"==typeof t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},handleErrors:function(){if(t.onerror!==e){var n=this;return t.onerror=function(t,e,i){n.error("["+t+" on line "+i+" of "+e+"]",0)},!0}return!1},appendButtons:function(t,e){return this.buttonReverse?e+t:t+e},build:function(t){var e="",n=t.type,i=t.message,s=t.cssClass||"";switch(e+='<div class="alertify-dialog">',"none"===y.buttonFocus&&(e+='<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>'),"prompt"===n&&(e+='<form id="alertify-form">'),e+='<article class="alertify-inner">',e+=b.message.replace("{{message}}",i),"prompt"===n&&(e+=b.input),e+=b.buttons.holder,e+="</article>","prompt"===n&&(e+="</form>"),e+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>',e+="</div>",n){case"confirm":e=e.replace("{{buttons}}",this.appendButtons(b.buttons.cancel,b.buttons.ok)),e=e.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":e=e.replace("{{buttons}}",this.appendButtons(b.buttons.cancel,b.buttons.submit)),e=e.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":e=e.replace("{{buttons}}",b.buttons.ok),e=e.replace("{{ok}}",this.labels.ok);break;default:}return u.className="alertify alertify-"+n+" "+s,c.className="alertify-cover",e},close:function(t,n){var i,s,r=n&&!isNaN(n)?+n:this.delay,o=this;this.bind(t,"click",function(){i(t)}),s=function(t){t.stopPropagation(),o.unbind(this,o.transition.type,s),f.removeChild(this),f.hasChildNodes()||(f.className+=" alertify-logs-hidden")},i=function(t){t!==e&&t.parentNode===f&&(o.transition.supported?(o.bind(t,o.transition.type,s),t.className+=" alertify-log-hide"):(f.removeChild(t),f.hasChildNodes()||(f.className+=" alertify-logs-hidden")))},0!==n&&setTimeout(function(){i(t)},r)},dialog:function(t,n,s,r,o){l=i.activeElement;var a=function(){f&&null!==f.scrollTop&&c&&null!==c.scrollTop||a()};if("string"!=typeof t)throw Error("message must be a string");if("string"!=typeof n)throw Error("type must be a string");if(s!==e&&"function"!=typeof s)throw Error("fn must be a function");return"function"==typeof this.init&&(this.init(),a()),g.push({type:n,message:t,callback:s,placeholder:r,cssClass:o}),m||this.setup(),this},extend:function(t){if("string"!=typeof t)throw Error("extend method must have exactly one paramter");return function(e,n){return this.log(e,t,n),this}},hide:function(){var t,e=this;g.splice(0,1),g.length>0?this.setup(!0):(m=!1,t=function(n){n.stopPropagation(),u.className+=" alertify-isHidden",e.unbind(u,e.transition.type,t)},this.transition.supported?(this.bind(u,this.transition.type,t),u.className="alertify alertify-hide alertify-hidden"):u.className="alertify alertify-hide alertify-hidden alertify-isHidden",c.className="alertify-cover alertify-cover-hidden",l.focus())},init:function(){i.createElement("nav"),i.createElement("article"),i.createElement("section"),c=i.createElement("div"),c.setAttribute("id","alertify-cover"),c.className="alertify-cover alertify-cover-hidden",i.body.appendChild(c),u=i.createElement("section"),u.setAttribute("id","alertify"),u.className="alertify alertify-hidden",i.body.appendChild(u),f=i.createElement("section"),f.setAttribute("id","alertify-logs"),f.className="alertify-logs alertify-logs-hidden",i.body.appendChild(f),i.body.setAttribute("tabindex","0"),this.transition=p(),delete this.init},log:function(t,e,n){var i=function(){f&&null!==f.scrollTop||i()};return"function"==typeof this.init&&(this.init(),i()),f.className="alertify-logs",this.notify(t,e,n),this},notify:function(t,e,n){var s=i.createElement("article");s.className="alertify-log"+("string"==typeof e&&""!==e?" alertify-log-"+e:""),s.innerHTML=t,f.appendChild(s),setTimeout(function(){s.className=s.className+" alertify-log-show"},50),this.close(s,n)},set:function(t){var e;if("object"!=typeof t&&t instanceof Array)throw Error("args must be an object");for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e])},setFocus:function(){h?(h.focus(),h.select()):a.focus()},setup:function(t){var i,l=g[0],c=this;m=!0,i=function(t){t.stopPropagation(),c.setFocus(),c.unbind(u,c.transition.type,i)},this.transition.supported&&!t&&this.bind(u,this.transition.type,i),u.innerHTML=this.build(l),o=n("alertify-resetFocus"),r=n("alertify-ok")||e,s=n("alertify-cancel")||e,a="cancel"===y.buttonFocus?s:"none"===y.buttonFocus?n("alertify-noneFocus"):r,h=n("alertify-text")||e,d=n("alertify-form")||e,"string"==typeof l.placeholder&&""!==l.placeholder&&(h.value=l.placeholder),t&&this.setFocus(),this.addListeners(l.callback)},unbind:function(t,e,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)}},{alert:function(t,e,n){return y.dialog(t,"alert",e,"",n),this},confirm:function(t,e,n){return y.dialog(t,"confirm",e,"",n),this},extend:y.extend,init:y.init,log:function(t,e,n){return y.log(t,e,n),this},prompt:function(t,e,n,i){return y.dialog(t,"prompt",e,n,i),this},success:function(t,e){return y.log(t,"success",e),this},error:function(t,e){return y.log(t,"error",e),this},set:function(t){y.set(t)},labels:y.labels,debug:y.handleErrors}},"function"==typeof define?define([],function(){return new n}):t.alertify===e&&(t.alertify=new n)})(this);